{"version":3,"sources":["components/Home/index.js","store/modal.js","utils/findCookie.js","store/errors.js","store/csrfetch.js","store/session.js","store/UX.js","components/Auth/index.js","components/Auth/AuthInput.js","components/Auth/LoginForm.js","components/Auth/SignupForm.js","components/NavBar/index.js","App.js","components/Modal/index.js","store/index.js","components/Errors/index.js","index.js"],"names":["Home","user","useSelector","state","session","username","SET_MODAL","TEARDOWN","MOORING","SetModal","Current","type","TearDown","cookie","found","document","split","filter","ck","slice","length","SET_ERRORS","CLEAR_ERRORS","SetErrors","current","ClearErrors","options","headers","body","method","genericErrors","captureDispatch","dispatch","this","__preFlight","opts","url","params","findCookie","key","JSON","stringify","__forwardFetch","window","fetch","res","status","json","errors","get","post","patch","delete","restoreCSRF","SET_USER","setSession","SHOW_MODAL","HIDE_MODAL","ShowModal","HideModal","Auth","onSubmit","children","useDispatch","e","preventDefault","className","AuthInput","onChangeText","value","onChange","target","required","placeholder","LoginForm","useState","identification","setIdentification","password","setPassword","console","log","a","csrfetch","LogIn","SignupForm","setUsername","email","setEmail","repeatPassword","setRepeatPassword","SignUp","NavBar","to","onClick","App","loaded","useEffect","path","Modal","show","UX","modal","mooring","createPortal","id","stopPropagation","enhancer","rootReducer","combineReducers","applyMiddleware","thunk","Errors","currentErrors","preloadedState","store","createStore","Root","mooringRef","useRef","ref","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d88f288a.chunk.js","sourcesContent":["import { useSelector } from 'react-redux';\n\nexport default function Home () {\n  const user = useSelector(state => state.session.user);\n\n  return user\n    ? (\n      <h1>\n        Hello, {user.username}!\n      </h1>\n      )\n    : (\n      <h1>\n        Hello! Please either log in or sign up!\n      </h1>\n      );\n}\n","const SET_MODAL = 'modal/CURRENT';\nconst TEARDOWN = 'modal/TEARDOWN';\nconst MOORING = 'modal/MOORING';\n\nexport const SetModal = Current => ({\n  type: SET_MODAL,\n  Current\n});\n\nexport const TearDown = () => ({\n  type: TEARDOWN\n});\n\nexport const SetMooring = mooring => ({\n  type: MOORING,\n  mooring\n});\n\nexport default function reducer (\n  state = { Current: null, mooring: null },\n  { type, Current, mooring }\n) {\n  switch (type) {\n    case SET_MODAL:\n      return { ...state, Current };\n    case TEARDOWN:\n      return { ...state, Current: null };\n    case MOORING:\n      return { ...state, mooring };\n    default:\n      return state;\n  }\n}\n","// eslint-disable-next-line import/no-anonymous-default-export\nexport default function (cookie) {\n  const cookies = document.cookie.split(',');\n  const found = cookies.filter(ck => ck.slice(0, cookie.length) === cookie)[0];\n  return found ? found.slice(cookie.length + 1) : null;\n}\n","const SET_ERRORS = 'errors/SET';\nconst CLEAR_ERRORS = 'errors/CLEAR';\n\nexport const SetErrors = current => ({\n  type: SET_ERRORS,\n  current\n});\n\nexport const ClearErrors = () => ({\n  type: CLEAR_ERRORS\n});\n\nexport default function reducer (\n  state = { current: null },\n  { type, current }\n) {\n  switch (type) {\n    case SET_ERRORS:\n      return { current };\n    case CLEAR_ERRORS:\n      return { current: null };\n    default:\n      return state;\n  }\n}\n","/* eslint-disable import/no-anonymous-default-export */\nimport findCookie from '../utils/findCookie';\nimport { SetErrors } from './errors';\n\nexport default {\n  options: [\n    '',\n    {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: '',\n      method: ''\n    }\n  ],\n\n  genericErrors: ['Sorry, something went wrong. Please refresh the page and try again.'],\n\n  captureDispatch (dispatch) {\n    this.dispatch = dispatch;\n  },\n\n  __preFlight (opts = { url: '', params: null, body: null }, method) {\n    this.options[1].headers['XSRF-Token'] = findCookie('XSRF-TOKEN');\n    if (method === 'GET') delete this.options[1].body;\n    this.options[0] = opts.url;\n    this.options[1] = { ...this.options[1], method };\n    this.options[0][this.options[0].length - 1] !== '/' && (this.options[0] = `${opts.url}/`);\n    if (opts.params) {\n      opts.url += '?';\n      for (const key in opts.params) opts.url += `&${key}=${opts.params[key]}`;\n    }\n    if (opts.body) this.options[1].body = JSON.stringify(opts.body);\n  },\n\n  async __forwardFetch (opts = { url: '', params: null, body: null }, method = 'GET') {\n    this.__preFlight(opts, method);\n    const res = await window.fetch(...this.options);\n    try {\n      if (res.status > 400) throw await res.json();\n      return await res.json();\n    } catch ({ errors }) {\n      this.dispatch(SetErrors(errors || this.genericErrors));\n      return {};\n    }\n  },\n\n  async get (url, params) {\n    return await this.__forwardFetch({ url, params });\n  },\n\n  async post (url, body) {\n    return await this.__forwardFetch({ url, body }, 'POST');\n  },\n\n  async patch (url, body) {\n    return await this.__forwardFetch({ url, body }, 'PATCH');\n  },\n\n  async delete (url, body) {\n    return await this.__forwardFetch({ url, body }, 'DELETE');\n  },\n\n  async restoreCSRF () {\n    await this.get('/api/csrf/restore/');\n  }\n};\n","import csrfetch from './csrfetch';\n\nconst SET_USER = 'session/SET';\n\nconst setSession = (user = null) => ({\n  type: SET_USER,\n  user\n});\n\nexport const RestoreUser = () => async dispatch => {\n  const { user } = await csrfetch.get('/api/session/');\n  dispatch(setSession(user));\n};\n\nexport const LogIn = (identification, password) => async dispatch => {\n  const { user } = await csrfetch.post('/api/session/', { identification, password });\n  dispatch(setSession(user));\n};\n\nexport const SignUp = (username, email, password) => async dispatch => {\n  const { user } = await csrfetch.post('/api/users/', { username, email, password });\n  dispatch(setSession(user));\n};\n\nexport const LogOut = () => async dispatch => {\n  await csrfetch.delete('/api/session/');\n  dispatch(setSession());\n};\n\nexport default function reducer (\n  state = { user: null, loaded: false },\n  { type, user }\n) {\n  switch (type) {\n    case SET_USER:\n      return { user, loaded: true };\n    default:\n      return state;\n  }\n}\n","const SHOW_MODAL = 'UX/modal/SHOW';\nconst HIDE_MODAL = 'UX/modal/HIDE';\n\nexport const ShowModal = () => ({\n  type: SHOW_MODAL\n});\n\nexport const HideModal = () => ({\n  type: HIDE_MODAL\n});\n\nexport default function reducer (\n  state = { modal: false },\n  { type }\n) {\n  switch (type) {\n    case SHOW_MODAL:\n      return { ...state, modal: true };\n    case HIDE_MODAL:\n      return { ...state, modal: false };\n    default:\n      return state;\n  }\n}\n","import { useDispatch, useSelector } from 'react-redux';\nimport { TearDown } from '../../store/modal';\nimport { HideModal } from '../../store/UX';\n\nimport { ClearErrors } from '../../store/errors';\n\nexport default function Auth ({ onSubmit, children }) {\n  const dispatch = useDispatch();\n\n  const user = useSelector(state => state.session.user);\n\n  if (user) {\n    dispatch(TearDown());\n    dispatch(HideModal());\n  }\n\n  const wrappedSubmit = e => {\n    e.preventDefault();\n    dispatch(ClearErrors());\n    onSubmit();\n  };\n\n  return (\n    <form\n      onSubmit={wrappedSubmit}\n      className='auth-form'\n    >\n      {children}\n    </form>\n  );\n}\n","export default function AuthInput ({ type, onChangeText, value }) {\n  return (\n    <label>\n      {(() => {\n        if (type === 'username') return 'Username';\n        if (type === 'email') return 'Email';\n        if (type === 'identification') return 'Username or email address';\n        if (type === 'password') return 'Password';\n        if (type === 'repeat-password') return 'Repeat Password';\n      })()}\n      <input\n        className='auth-input'\n        type={(() => {\n          if (type === 'username' || type === 'identification') return 'text';\n          if (type === 'email') return 'email';\n          if (type === 'password' || type === 'repeat-password') return 'password';\n        })()}\n        onChange={({ target: { value } }) => onChangeText(value)}\n        value={value}\n        required\n        placeholder={(() => {\n          if (type === 'username') return 'Username';\n          if (type === 'email') return 'user@website.com';\n          if (type === 'identification') return 'Username or email address';\n          if (type === 'password') return 'Password';\n          if (type === 'repeat-password') return 'Repeat Password';\n        })()}\n      />\n    </label>\n  );\n}\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Auth from '.';\nimport { LogIn } from '../../store/session';\nimport AuthInput from './AuthInput';\n\nexport default function LoginForm () {\n  const dispatch = useDispatch();\n\n  const [identification, setIdentification] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onSubmit = () => {\n    console.log('login attempted');\n    dispatch(LogIn(identification, password));\n  };\n\n  return (\n    <Auth onSubmit={onSubmit}>\n      <AuthInput\n        type='identification'\n        onChangeText={setIdentification}\n        value={identification}\n      />\n      <AuthInput\n        type='password'\n        onChangeText={setPassword}\n        value={password}\n      />\n      <button className='auth-button'>\n        Log In\n      </button>\n    </Auth>\n  );\n}\n","import { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Auth from '.';\nimport { SetErrors } from '../../store/errors';\nimport { SignUp } from '../../store/session';\nimport AuthInput from './AuthInput';\n\nexport default function SignupForm () {\n  const dispatch = useDispatch();\n\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [repeatPassword, setRepeatPassword] = useState('');\n\n  const onSubmit = () => {\n    if (password === repeatPassword) dispatch(SignUp(username, email, password));\n    else dispatch(SetErrors(['Passwords do not match']));\n  };\n\n  return (\n    <Auth onSubmit={onSubmit}>\n      <AuthInput\n        type='username'\n        onChangeText={setUsername}\n        value={username}\n      />\n      <AuthInput\n        type='email'\n        onChangeText={setEmail}\n        value={email}\n      />\n      <AuthInput\n        type='password'\n        onChangeText={setPassword}\n        value={password}\n      />\n      <AuthInput\n        type='repeat-password'\n        onChangeText={setRepeatPassword}\n        value={repeatPassword}\n      />\n      <button className='auth-button'>\n        Sign Up\n      </button>\n    </Auth>\n  );\n}\n","import { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { SetModal } from '../../store/modal';\nimport { LogOut } from '../../store/session';\nimport { ShowModal } from '../../store/UX';\n\nimport LoginForm from '../Auth/LoginForm';\nimport SignupForm from '../Auth/SignupForm';\n\nexport default function NavBar () {\n  const dispatch = useDispatch();\n\n  const user = useSelector(state => state.session.user);\n\n  const popLogin = () => {\n    dispatch(SetModal(LoginForm));\n    dispatch(ShowModal());\n  };\n\n  const popSignup = () => {\n    dispatch(SetModal(SignupForm));\n    dispatch(ShowModal());\n  };\n\n  const logOut = () => dispatch(LogOut());\n\n  return (\n    <nav>\n      {user\n        ? (\n          <>\n            <Link to='/'>\n              Home\n            </Link>\n            <Link to='/users/me/'>\n              My Profile\n            </Link>\n            <button onClick={logOut}>\n              Log Out\n            </button>\n          </>\n          )\n        : (\n          <>\n            <button onClick={popLogin}>\n              Log In\n            </button>\n            <button onClick={popSignup}>\n              Sign Up\n            </button>\n          </>\n          )}\n    </nav>\n  );\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Route, Switch } from 'react-router-dom';\n\nimport Home from './components/Home';\nimport NavBar from './components/NavBar';\nimport csrfetch from './store/csrfetch';\nimport { RestoreUser } from './store/session';\n\nexport default function App () {\n  const dispatch = useDispatch();\n\n  const loaded = useSelector(state => state.session.loaded);\n\n  useEffect(() => {\n    csrfetch.captureDispatch(dispatch);\n    csrfetch.restoreCSRF();\n    dispatch(RestoreUser());\n  }, [dispatch]);\n\n  return loaded && (\n    <>\n      <NavBar />\n      <Switch>\n        <Route path='/'>\n          <Home />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n","import { createPortal } from 'react-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { TearDown } from '../../store/modal';\nimport { HideModal } from '../../store/UX';\n\nimport './index.css';\n\nexport default function Modal () {\n  const dispatch = useDispatch();\n\n  const show = useSelector(state => state.UX.modal);\n  const mooring = useSelector(state => state.modal.mooring);\n  const Current = useSelector(state => state.modal.Current);\n\n  const onClose = () => {\n    dispatch(TearDown());\n    dispatch(HideModal());\n  };\n\n  const resist = e => e.stopPropagation();\n\n  return mooring && show && Current && createPortal(\n    <div id='modal-background' onClick={onClose}>\n      <div id='modal-content' onClick={resist}>\n        <Current />\n      </div>\n    </div>,\n    mooring\n  );\n}\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport modal from './modal';\nimport UX from './UX';\nimport session from './session';\nimport errors from './errors';\n\nconst rootReducer = combineReducers({\n  session,\n  UX,\n  modal,\n  errors\n});\n\nlet enhancer;\n\nif (process.env.NODE_ENV === 'production') {\n  enhancer = applyMiddleware(thunk);\n} else {\n  const logger = require('redux-logger').default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nexport default function configureStore (preloadedState) {\n  return createStore(rootReducer, preloadedState, enhancer);\n}\n","import { useDispatch, useSelector } from 'react-redux';\nimport { ClearErrors } from '../../store/errors';\n\nimport './index.css';\n\nexport default function Errors () {\n  const dispatch = useDispatch();\n\n  const currentErrors = useSelector(state => state.errors.current);\n\n  const onClose = () => dispatch(ClearErrors());\n\n  return currentErrors && (\n    <div id='error-bar'>\n      {currentErrors}\n      <button\n        onClick={onClose}\n        id='error-close'\n      >\n        X\n      </button>\n    </div>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider, useDispatch } from 'react-redux';\n\nimport App from './App';\nimport Modal from './components/Modal';\nimport configureStore from './store';\nimport Errors from './components/Errors';\nimport csrfetch from './store/csrfetch';\nimport { SetMooring } from './store/modal';\n\nimport './index.css';\nimport findCookie from './utils/findCookie';\n\nconst store = configureStore();\n\nif (process.env.NODE_ENV !== 'production') {\n  window.store = store;\n  window.dispatch = store.dispatch;\n  window.csrfetch = csrfetch;\n  window.findCookie = findCookie;\n}\n\nfunction Root () {\n  const dispatch = useDispatch();\n  const mooringRef = useRef(null);\n\n  useEffect(() => {\n    dispatch(SetMooring(mooringRef.current));\n  }, [dispatch]);\n\n  return (\n    <BrowserRouter>\n      <Errors />\n      <App />\n      <Modal />\n      <div ref={mooringRef} id='modal' />\n    </BrowserRouter>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Root />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}